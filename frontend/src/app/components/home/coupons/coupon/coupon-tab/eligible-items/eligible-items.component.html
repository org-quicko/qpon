<div class="py-7 flex flex-col gap-6 overflow-hidden">
  <div>
    <div class="flex items-center justify-between">
      <mat-list>
        <mat-list-item>
          <span matListItemLine class="mat-body-large text-on-surface"
            >Eligible items</span
          >
          <span matListItemLine class="mat-body-medium text-on-surface-variant"
            >Coupon will be eligible on these items</span
          >
        </mat-list-item>
      </mat-list>
      <button
        mat-flat-button
        class="bg-primary rounded-[100px] mat-label-large text-on-primary"
      >
        <mat-icon>add</mat-icon>
        <span>Add items</span>
      </button>
    </div>
  </div>
  @if(coupon()?.itemConstraint == 'all') {
  <div class="flex justify-center items-center pt-[60px]">
    <div class="flex flex-col justify-center items-center gap-3">
      <div
        class="bg-surface-container rounded-full h-[56px] w-[56px] flex items-center justify-center"
      >
        <mat-icon
          class="material-symbols-outlined text-on-surface-variant h-8 w-8 text-[32px]"
          >verified</mat-icon
        >
      </div>
      <span class="mat-body-large text-on-surface"
        >Coupon is eligible on all items</span
      >
    </div>
  </div>
  } @else {
  <div
    class="flex items-center gap-[10px] w-full border rounded-[4px] h-[56px] border-outline-variant"
  >
    <div class="h-[48px] w-[48px] flex justify-center items-center">
      <mat-icon class="text-on-surface-variant">search</mat-icon>
    </div>
    <input
      matInput
      class="focus:outline-none align-middle py-[4px] w-full mat-body-large text-outline"
      placeholder="Search items"
    />
  </div>
  <div class="pt-6">
    <div
      class="border-[1px] rounded-[5px] border-outline-variant overflow-hidden"
    >
      @if(!isLoading()) {
      <table mat-table [dataSource]="datasource" class="text-on-surface w-full">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Name</th>
          <td mat-cell *matCellDef="let item">
            {{ item.name }}
          </td>
        </ng-container>

        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef>Description</th>
          <td mat-cell *matCellDef="let item">
            {{ item.description }}
          </td>
        </ng-container>

        <ng-container matColumnDef="menu">
          <th mat-header-cell *matHeaderCellDef aria-label="row actions">
            &nbsp;
          </th>
          <td mat-cell *matCellDef="let item">
            <div class="flex justify-end">
              <mat-icon
                [matMenuTriggerFor]="options"
                class="hover:cursor-pointer"
                >more_vert</mat-icon
              >
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columns"></tr>
        <tr mat-row *matRowDef="let row; columns: columns"></tr>
      </table>
      } @else {
      <div class="flex flex-col pt-[50px] p-4 gap-[8px] h-[290px] w-screen">
        <div class="flex flex-col gap-2">
          <div *ngFor="let item of [1, 2, 3, 4, 5]; let i = index">
            <div class="relative group">
              <div class="flex flex-row justify-between gap-x-4 relative">
                <div
                  class="flex overflow-hidden"
                  [ngStyle]="{ width: (5 * 100) / 6 + '%' }"
                >
                  <ngx-skeleton-loader
                    [theme]="{
                      height: '36px',
                      width: '100%',
                      marginBottom: '-4px'
                    }"
                    class="h-[36px] w-full"
                  ></ngx-skeleton-loader>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      }
    </div>
    <div>
      <mat-paginator></mat-paginator>
    </div>
  </div>
  }
</div>
<mat-menu
  #options="matMenu"
  class="w-[200px] min-w-[112px] max-w-[280px] rounded-[4px] bg-surface-container-lowest top-[208px] left-[3155px] font-sans"
>
  <button mat-menu-item class="h-[56px] py-8 flex gap-[12px]">
    <mat-icon class="material-symbols-outlined">edit</mat-icon>
    <span class="mat-body-large text-on-surface">Edit</span>
  </button>
  <button mat-menu-item class="h-[56px] py-8 flex gap-[12px]">
    <mat-icon class="material-symbols-outlined">delete</mat-icon>
    <span class="mat-body-large text-on-surface">Delete</span>
  </button>
</mat-menu>
